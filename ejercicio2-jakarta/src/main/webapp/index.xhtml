<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:c="jakarta.tags.core">

<h:head>
    <title>Ejemplo02 usando JSF con Jakarta EE 10</title>
    <meta charset="UTF-8"/>
</h:head>

<h:body>
    <h1>Lista de usuarios:</h1>
 <!-- Práctica 2: 
        * Añade aquí la sección para mostrar la lista de usuarios.
        * Comprueba si quieres primero que se muestra uno y después genera a todos.
        * Estudia como se publican aquí los elementos de un objeto dentro de una clase.
        * Utiliza la aproximación que prefieras para gestionar el total de pagos del usuario. por ejemplo, 
          puedes usar un bucle ui:repeat y variables, o crear una función dentro del objeto que calcule el total. 

   -->
   <ui:repeat value="#{helloBean.usuarios}" var="usuario">
       <h2>Usuario: #{usuario.nombre} #{usuario.apellidos}</h2>
        <ul>
            <li>
                Dni: #{usuario.dni}
            </li>
            <li>
                Email: #{usuario.email}
            </li>
            <li>
                Edad: #{usuario.edad}
            </li>
            <li>
                Pagos:
                <h:dataTable value="#{usuario.pagos}" var="pago">
                    <h:column>
                        <f:facet name="header">Mes</f:facet>
                        #{pago.key}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Pago</f:facet>
                        #{pago.value}
                    </h:column>
                </h:dataTable>
            </li>
        </ul>
    </ui:repeat>

</h:body>
</html>
